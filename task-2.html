<!DOCTYPE html>
<html lang="en">
<head>
  <title>Task 2: Test palindrome</title>
  <meta name="robots" content="noindex">
  <meta name="googlebot" content="noindex">
  <meta charset="UTF-8">

  <link rel="stylesheet" href="./styles/task-2.css">
  <link rel="stylesheet" href="./styles/ui.css">


  <!-- interface -->
  <script type="module">
    import { ui } from "./js/ui/index.js"
    ui({
      nextPage: './sorting.html',
      sourceCode: 'https://github.com/entrpyc/inensia-task/blob/main/js/testPalindrome/index.js'
    })
  </script>
</head>
<body>
  <section id="screen">
    <div class="container">
      <h1 id="title-result">Enter and submit value</h1>
      <form class="input-wrapper" onsubmit="return false">
        <input type="text" id="input-test-palindrome" placeholder="Madam">
        <button class="ui" type="submit">TEST <i>O(n)</i></button>
        <button class="ui" type="button" id="lazy">TEST <i>Lazy</i></button>
      </fo>
    </div>
  </section>

  <script type="module">
    import { testPalindrome, testPalindromeLazySolution } from "./js/testPalindrome/index.js"
    import { resultMessage } from "./js/testPalindrome/helpers.js"
    
    const form = document.getElementsByTagName('form')[0]
    const input = document.getElementById('input-test-palindrome')
    const result = document.getElementById('title-result')
    const lazySolutionButton = document.getElementById('lazy')

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const isPalindrome = testPalindrome(input.value)

      result.className = isPalindrome ? 'green' : 'red'
      result.innerText = resultMessage[isPalindrome]
    });

    lazySolutionButton.addEventListener('click', () => {
      const isPalindrome = testPalindromeLazySolution(input.value, result)

      result.className = isPalindrome ? 'green' : 'red'
      result.innerText = resultMessage[isPalindrome]
    })
  </script>
</body>
</html>